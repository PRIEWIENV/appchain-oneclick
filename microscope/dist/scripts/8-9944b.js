webpackJsonp([8],{2058:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),i=r(186),s=r(381),c=r(385),u=r(2115),l=r(2143),f=r(2152),d=r(2362),h=r(2116),p=r(2117),g=r(2363),m=r(131),b=r(2157),_=m.initBlockTableState,E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=_,t.onSearch=function(e){t.setState(function(t){return Object.assign({},t,{selectorsValue:e,pageNo:0})}),t.fetchBlock(e)},t.setPageSize=function(){var e=t.props.config.panelConfigs.blockPageSize;t.setState({pageSize:e})},t.setVisibleHeaders=function(){t.setState(function(e){return{headers:e.headers.filter(function(e){return!1!==t.props.config.panelConfigs["block"+e.key[0].toUpperCase()+e.key.slice(1)]})}})},t.setParamsFromUrl=function(){var e=new URLSearchParams(t.props.location.search),r={numberFrom:"",numberTo:"",transactionFrom:"",transactionTo:"",pageNo:""};Object.keys(r).forEach(function(t){var n=e.get(t);r[t]=n});var n={};Object.keys(t.state.selectorsValue).forEach(function(e){n[e]=r[e]||t.state.selectorsValue[e]});var o=+r.pageNo>=1?+r.pageNo-1:t.state.pageNo;t.setState({selectorsValue:n,pageNo:o})},t.handlePageChanged=function(e){var r=e*t.state.pageSize,n=t.state.pageSize;t.fetchBlock(o({offset:r,limit:n},t.state.selectorsValue)).then(function(){t.setState({pageNo:e})}).catch(t.handleError)},t.fetchBlock=function(e){return void 0===e&&(e={}),t.setState(function(e){return{loading:e.loading+1}}),f.fetchBlocks(d.default(e)).then(function(e){var r=e.result;t.setState(function(e){return{loading:e.loading-1,count:r.count,items:r.blocks.map(function(e){return{key:e.hash,height:""+ +e.header.number,hash:e.hash,age:b.fromNow(e.header.timestamp)+" ago",transactions:""+e.transactionsCount,gasUsed:""+ +e.header.gasUsed}})}})}).catch(function(e){t.handleError(e)})},t.handleError=p.handleError(t),t.dismissError=p.dismissError(t),t}return n(t,e),t.prototype.componentWillMount=function(){this.setParamsFromUrl(),this.setVisibleHeaders(),this.setPageSize()},t.prototype.componentDidMount=function(){h.default(),this.fetchBlock(o({},this.state.selectorsValue,{offset:this.state.pageNo*this.state.pageSize,limit:this.state.pageSize}))},t.prototype.componentDidCatch=function(e){this.handleError(e)},t.prototype.render=function(){var e=this.state,t=e.headers,r=e.items,n=e.selectors,o=e.selectorsValue,s=e.count,f=e.pageSize,h=e.pageNo,p=e.loading,m=e.error,b=d.default(o),_=g.rangeSelectorText("Number",b.numberFrom,b.numberTo),E=g.rangeSelectorText("Transaction",b.transactionFrom,b.transactionTo),v=_&&E?_+", "+E:_||E;return a.createElement(a.Fragment,null,p?a.createElement(i.LinearProgress,{classes:{root:"linearProgressRoot"}}):null,a.createElement(l.default,{bg:"https://cdn.cryptape.com//banner/banner-Block.png"},v?"Current Search: "+v:"Blocks"),a.createElement(c.default,{headers:t,items:r,selectorsValue:o,selectors:n,onSubmit:this.onSearch,count:s,pageSize:f,pageNo:h,handlePageChanged:this.handlePageChanged,searchText:v}),a.createElement(u.default,{error:m,dismissError:this.dismissError}))},t}(a.Component);t.default=s.withConfig(E)},2115:function(e,t,r){"use strict";this&&this.__assign||Object.assign;Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(186),a=r(187),i=r(378);t.default=function(e){var t=e.error,r=e.dismissError;return n.createElement(o.Snackbar,{message:n.createElement("span",{className:i.error},t.message),open:!!t.message,anchorOrigin:{vertical:"top",horizontal:"right"},action:n.createElement(n.Fragment,null,n.createElement("a",{href:"https://docs.nervos.org/cita/#/rpc_guide/rpc_error_code",target:"_blank",rel:"noopener noreferrer",className:i.errMsgLink},"More"),n.createElement(o.IconButton,{onClick:r,color:"secondary"},n.createElement(a.Close,null)))})}},2116:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){document.getElementById("loader").style.display="none"}},2117:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(131);t.handleError=function(e){return function(t){window.localStorage.getItem("chainIp")&&e.setState(function(e){return{loading:e.loading-1,error:t}})}},t.dismissError=function(e){return function(){e.setState({error:n.initError})}}},2143:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(2150);t.default=function(e){var t=e.bg,r=e.children;return n.createElement("div",{className:o.banner,style:{backgroundImage:"url("+t+")"}},r)}},2150:function(e,t,r){var n=r(2151);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(2045)(n,o);n.locals&&(e.exports=n.locals)},2151:function(e,t,r){(t=e.exports=r(2044)(!1)).push([e.i,".banner__banner--1FBvV{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100vw;height:200px;margin-bottom:-82px;padding-bottom:38px;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;font-size:30px;background-repeat:no-repeat;background-position-x:center;line-height:2;font-size:24px}@media (max-width:800px){.banner__banner--1FBvV{height:117px;margin-bottom:0;padding-bottom:0}}",""]),t.locals={banner:"banner__banner--1FBvV"}},2152:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(382),o=r(131),a=r(2156),i=window.urlParamChain||window.localStorage.getItem("chainIp")||o.initServerList[0],s=n.default.create({baseURL:i});t.fetch10Transactions=function(){return s.get("api/transactions").then(function(e){return e.data}).catch(function(){throw new Error(a.default.CACHE_SERVER_NOT_AVAILABLE)})},t.fetchBlocks=function(e){return s.get("api/blocks",{params:e}).then(function(e){return e.data}).catch(function(){throw new Error(a.default.CACHE_SERVER_NOT_AVAILABLE)})},t.fetchTransactions=function(e){return s.get("api/transactions",{params:e}).then(function(e){return e.data}).catch(function(){throw new Error(a.default.CACHE_SERVER_NOT_AVAILABLE)})},t.fetchStatistics=function(e){return s.get("/api/statistics",{params:e}).then(function(e){return e.data}).catch(function(){throw new Error(a.default.CACHE_SERVER_NOT_AVAILABLE)})},t.fetchServerList=function(){return n.default.get("https://cdn.cryptape.com//defaultServerList.json?"+(new Date).getTime).then(function(e){return e.data}).catch(function(){throw new Error(a.default.SERVER_LIST_NOT_FOUND)})},t.fetchMetadata=function(e){return n.default.post(e.startsWith("http")?e:"https://"+e,{jsonrpc:"2.0",method:"getMetaData",params:["latest"],id:1}).then(function(e){return e.data}).catch(function(){throw new Error(a.default.CACHE_SERVER_NOT_AVAILABLE)})}},2156:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CACHE_SERVER_NOT_AVAILABLE="Cache Server Not Available",e.SERVER_LIST_NOT_FOUND="Server List Not Found"}(n||(n={})),t.default=n},2157:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){return e?1===e?" 1 "+t:" "+e+" "+t+"s":" "};t.fromNow=function(e){var t=((new Date).getTime()-e)/1e3,r=Math.floor(t/86400),o=n(r,"day");t-=86400*r;var a=Math.floor(t/3600),i=n(a,"hr");t-=3600*a;var s=Math.floor(t/60),c=n(s,"min");t-=60*s;var u=Math.floor(t/1),l=o+i+c+n(u,"sec");return l.trim().length?l:"0 sec"},t.default={fromNow:t.fromNow}},2362:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return Object.keys(e).forEach(function(r){""!==e[r]&&void 0!==e[r]&&(t[r]=e[r])}),t}},2363:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rangeSelectorText=function(e,t,r){return void 0===t&&void 0===r?"":e+" "+(void 0!==t?"from "+t:"")+" "+(void 0!==r?"to "+r:"")},t.default=t.rangeSelectorText}});